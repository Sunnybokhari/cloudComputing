{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Task from\"./Task\";import\"./TaskList.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TaskList=()=>{const[tasks,setTasks]=useState([]);const[selectedDate,setSelectedDate]=useState(\"\");useEffect(()=>{fetch(\"http://localhost:3001/tasks\",{credentials:\"include\"}).then(response=>response.json()).then(data=>{setTasks(data);}).catch(error=>console.error(\"Error:\",error));},[]);const filterTasks=priority=>{return tasks.filter(task=>{if(task.priority!==priority)return false;if(selectedDate==='')return true;const taskDueDate=new Date(task.dueDate).toDateString();const filterDueDate=new Date(selectedDate).toDateString();return taskDueDate===filterDueDate;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:()=>window.location.href=\"/\",children:\"Logout\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"My Tasks\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-task-button\",onClick:()=>window.location.href=\"http://localhost:3000/add\",children:\"Add Task\"}),/*#__PURE__*/_jsx(\"div\",{className:\"date-filter\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-columns\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"High Priority\"}),filterTasks(\"high\").map(task=>/*#__PURE__*/_jsx(Task,{...task},task.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Medium Priority\"}),filterTasks(\"medium\").map(task=>/*#__PURE__*/_jsx(Task,{...task},task.id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Low Priority\"}),filterTasks(\"low\").map(task=>/*#__PURE__*/_jsx(Task,{...task},task.id))]})]})]});};export default TaskList;","map":{"version":3,"names":["React","useState","useEffect","Task","jsx","_jsx","jsxs","_jsxs","TaskList","tasks","setTasks","selectedDate","setSelectedDate","fetch","credentials","then","response","json","data","catch","error","console","filterTasks","priority","filter","task","taskDueDate","Date","dueDate","toDateString","filterDueDate","className","children","onClick","window","location","href","type","value","onChange","e","target","map","id"],"sources":["/Users/sunnybokhari/Documents/cloudComputing/my-task-manager-frontend/src/components/TaskList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Task from \"./Task\";\nimport \"./TaskList.css\"; \n\nconst TaskList = () => {\n  const [tasks, setTasks] = useState([]);\n  const [selectedDate, setSelectedDate] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/tasks\", { credentials: \"include\" })\n      .then((response) => response.json())\n      .then((data) => {\n        setTasks(data);\n      })\n      .catch((error) => console.error(\"Error:\", error));\n  }, []);\n\n  const filterTasks = (priority) => {\n    return tasks.filter(task => {\n      if (task.priority !== priority) return false;\n      if (selectedDate === '') return true; \n  \n      const taskDueDate = new Date(task.dueDate).toDateString();\n      const filterDueDate = new Date(selectedDate).toDateString();\n  \n      return taskDueDate === filterDueDate;\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      <button\n        className=\"logout-button\"\n        onClick={() => (window.location.href = \"/\")}\n      >\n        Logout\n      </button>\n      <h2 className=\"title\">My Tasks</h2>\n      <button\n        className=\"add-task-button\"\n        onClick={() => (window.location.href = `http://localhost:3000/add`)}\n      >\n        Add Task\n      </button>\n      <div className=\"date-filter\">\n        <input\n          type=\"date\"\n          value={selectedDate}\n          onChange={(e) => setSelectedDate(e.target.value)}\n        />\n      </div>\n\n      <div className=\"task-columns\">\n        <div className=\"task-column\">\n          <h3>High Priority</h3>\n          {filterTasks(\"high\").map((task) => (\n            <Task key={task.id} {...task} />\n          ))}\n        </div>\n        <div className=\"task-column\">\n          <h3>Medium Priority</h3>\n          {filterTasks(\"medium\").map((task) => (\n            <Task key={task.id} {...task} />\n          ))}\n        </div>\n        <div className=\"task-column\">\n          <h3>Low Priority</h3>\n          {filterTasks(\"low\").map((task) => (\n            <Task key={task.id} {...task} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TaskList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}